<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://www.cyanzoy.top</id>
    <title>Sigma</title>
    <updated>2019-11-25T10:13:09.704Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://www.cyanzoy.top"/>
    <link rel="self" href="https://www.cyanzoy.top/atom.xml"/>
    <subtitle>ä¸ºæŠ€æœ¯è€Œç”Ÿ</subtitle>
    <logo>https://www.cyanzoy.top/images/avatar.png</logo>
    <icon>https://www.cyanzoy.top/favicon.ico</icon>
    <rights>All rights reserved 2019, Sigma</rights>
    <entry>
        <title type="html"><![CDATA[ğŸŒ¾Python å¼‚æ­¥ç¼–ç¨‹asyncioæ¨¡å—]]></title>
        <id>https://www.cyanzoy.top/post/LfH2aK5oT</id>
        <link href="https://www.cyanzoy.top/post/LfH2aK5oT">
        </link>
        <updated>2019-11-21T07:44:10.000Z</updated>
        <summary type="html"><![CDATA[<blockquote>
<p><code>asyncio</code> æ¨¡å—æœ€å¤§ç‰¹ç‚¹å°±æ˜¯ï¼Œåªå­˜åœ¨ä¸€ä¸ªçº¿ç¨‹ï¼Œè·Ÿ <code>JavaScript</code> ä¸€æ ·ã€‚<br>
ç”±äºåªæœ‰ä¸€ä¸ªçº¿ç¨‹ï¼Œå°±ä¸å¯èƒ½å¤šä¸ªä»»åŠ¡åŒæ—¶è¿è¡Œã€‚<code>asyncio</code> æ˜¯&quot;å¤šä»»åŠ¡åˆä½œ&quot;æ¨¡å¼(cooperative multitasking)ï¼Œå…è®¸å¼‚æ­¥ä»»åŠ¡äº¤å‡ºæ‰§è¡Œæƒç»™å…¶ä»–ä»»åŠ¡ï¼Œç­‰åˆ°å…¶ä»–ä»»åŠ¡å®Œæˆï¼Œå†æ”¶å›æ‰§è¡Œæƒç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼Œè¿™è·Ÿ <code>JavaScript</code> ä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚</p>
</blockquote>
]]></summary>
        <content type="html"><![CDATA[<blockquote>
<p><code>asyncio</code> æ¨¡å—æœ€å¤§ç‰¹ç‚¹å°±æ˜¯ï¼Œåªå­˜åœ¨ä¸€ä¸ªçº¿ç¨‹ï¼Œè·Ÿ <code>JavaScript</code> ä¸€æ ·ã€‚<br>
ç”±äºåªæœ‰ä¸€ä¸ªçº¿ç¨‹ï¼Œå°±ä¸å¯èƒ½å¤šä¸ªä»»åŠ¡åŒæ—¶è¿è¡Œã€‚<code>asyncio</code> æ˜¯&quot;å¤šä»»åŠ¡åˆä½œ&quot;æ¨¡å¼(cooperative multitasking)ï¼Œå…è®¸å¼‚æ­¥ä»»åŠ¡äº¤å‡ºæ‰§è¡Œæƒç»™å…¶ä»–ä»»åŠ¡ï¼Œç­‰åˆ°å…¶ä»–ä»»åŠ¡å®Œæˆï¼Œå†æ”¶å›æ‰§è¡Œæƒç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼Œè¿™è·Ÿ <code>JavaScript</code> ä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚</p>
</blockquote>
<!-- more -->
<blockquote>
<p>ç”±äºä»£ç çš„æ‰§è¡Œæƒåœ¨å¤šä¸ªä»»åŠ¡ä¹‹é—´äº¤æ¢ï¼Œæ‰€ä»¥çœ‹ä¸Šå»å¥½åƒå¤šä¸ªä»»åŠ¡åŒæ—¶è¿è¡Œï¼Œå…¶å®åº•å±‚åªæœ‰ä¸€ä¸ªçº¿ç¨‹ï¼Œå¤šä¸ªä»»åŠ¡åˆ†äº«è¿è¡Œæ—¶é—´ã€‚</p>
</blockquote>
<blockquote>
<p>è¡¨é¢ä¸Šï¼Œè¿™æ˜¯ä¸€ä¸ªä¸åˆç†çš„è®¾è®¡ï¼Œæ˜æ˜æœ‰å¤šçº¿ç¨‹å¤šè¿›ç¨‹çš„èƒ½åŠ›ï¼Œä¸ºä»€ä¹ˆæ”¾ç€å¤šä½™çš„ <code>CPU</code> æ ¸å¿ƒä¸ç”¨ï¼Œè€Œåªç”¨ä¸€ä¸ªçº¿ç¨‹å‘¢ï¼Ÿä½†æ˜¯å°±åƒå‰é¢è¯´çš„ï¼Œå•çº¿ç¨‹ç®€åŒ–äº†å¾ˆå¤šé—®é¢˜ï¼Œä½¿å¾—ä»£ç é€»è¾‘å˜å¾—ç®€å•ï¼Œå†™æ³•ç¬¦åˆç›´è§‰ã€‚<br>
<code>asyncio</code> æ¨¡å—åœ¨å•çº¿ç¨‹ä¸Šå¯åŠ¨ä¸€ä¸ªäº‹ä»¶å¾ªç¯(event loop)ï¼Œæ—¶åˆ»ç›‘å¬æ–°è¿›å…¥å¾ªç¯çš„äº‹ä»¶ï¼ŒåŠ ä»¥å¤„ç†ï¼Œå¹¶ä¸æ–­é‡å¤è¿™ä¸ªè¿‡ç¨‹ï¼Œç›´åˆ°å¼‚æ­¥ä»»åŠ¡ç»“æŸã€‚äº‹ä»¶å¾ªç¯çš„å†…éƒ¨æœºåˆ¶ï¼Œå¯ä»¥å‚è€ƒ <code>JavaScript</code> çš„æ¨¡å‹ï¼Œä¸¤è€…æ˜¯ä¸€æ ·çš„ã€‚</p>
</blockquote>
<pre><code class="language-python">#!/usr/bin/env python3
# async.py
# python3.7 åŠä»¥ä¸Š
import asyncio

async def count():
    print(&quot;One&quot;)
    await asyncio.sleep(1)
    print(&quot;Two&quot;)

async def main():
    await asyncio.gather(count(), count(), count())

asyncio.run(main())
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ğŸŒ²Savitzky-Golay æ»¤æ³¢å™¨]]></title>
        <id>https://www.cyanzoy.top/post/ilNuF0noL</id>
        <link href="https://www.cyanzoy.top/post/ilNuF0noL">
        </link>
        <updated>2019-11-13T06:57:51.000Z</updated>
        <content type="html"><![CDATA[<!-- more -->
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ğŸŒ³è½¨è¿¹-å¼‚å¸¸å€¼æ£€æµ‹(ä¸‰)]]></title>
        <id>https://www.cyanzoy.top/post/YiNcentC2</id>
        <link href="https://www.cyanzoy.top/post/YiNcentC2">
        </link>
        <updated>2019-11-11T04:59:14.000Z</updated>
        <summary type="html"><![CDATA[<p>LOF(Local Outlier Factor)</p>
]]></summary>
        <content type="html"><![CDATA[<p>LOF(Local Outlier Factor)</p>
<!-- more -->
<p>å‚è€ƒæ–‡ç« :<br>
1.<a href="https://blog.csdn.net/YE1215172385/article/details/79762317">ç¦»ç¾¤ç‚¹æ£€æµ‹ç®—æ³•â€”â€”LOF(Local Outlier Factor)</a><br>
2.<a href="https://blog.csdn.net/YE1215172385/article/details/79766906">å¼‚å¸¸æ£€æµ‹(ä¸‰)â€”â€”Local Outlier Factor(LOF)</a></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ğŸŒ³è½¨è¿¹-å¼‚å¸¸å€¼æ£€æµ‹(äºŒ)]]></title>
        <id>https://www.cyanzoy.top/post/xnOx4dk3D</id>
        <link href="https://www.cyanzoy.top/post/xnOx4dk3D">
        </link>
        <updated>2019-11-11T04:58:56.000Z</updated>
        <summary type="html"><![CDATA[<p>IsolationForest</p>
]]></summary>
        <content type="html"><![CDATA[<p>IsolationForest</p>
<!-- more -->
<p>å‚è€ƒæ–‡ç« :<br>
1.<a href="https://blog.csdn.net/YE1215172385/article/details/79762317">å¼‚å¸¸æ£€æµ‹ï¼ˆäºŒï¼‰â€”â€”IsolationForest</a></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ğŸŒ³è½¨è¿¹-å¼‚å¸¸å€¼æ£€æµ‹(ä¸€)]]></title>
        <id>https://www.cyanzoy.top/post/XUaCLWFv_</id>
        <link href="https://www.cyanzoy.top/post/XUaCLWFv_">
        </link>
        <updated>2019-11-11T04:58:26.000Z</updated>
        <summary type="html"><![CDATA[<p>OneClassSVM</p>
]]></summary>
        <content type="html"><![CDATA[<p>OneClassSVM</p>
<!-- more -->
<p>å‚è€ƒæ–‡ç« :<br>
1.<a href="https://blog.csdn.net/YE1215172385/article/details/79750703">å¼‚å¸¸æ£€æµ‹ï¼ˆä¸€ï¼‰â€”â€”OneClassSVM</a></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ğŸŒ±Pythonçš„reæ¨¡å—ä¸­matchã€searchã€findallã€finditerçš„åŒºåˆ«]]></title>
        <id>https://www.cyanzoy.top/post/qMULWET8f</id>
        <link href="https://www.cyanzoy.top/post/qMULWET8f">
        </link>
        <updated>2019-11-11T01:18:16.000Z</updated>
        <summary type="html"><![CDATA[<p>æ¸©ä¹ pythonä¸­çš„reæ¨¡å—</p>
]]></summary>
        <content type="html"><![CDATA[<p>æ¸©ä¹ pythonä¸­çš„reæ¨¡å—</p>
<!-- more -->
<h2 id="match">match</h2>
<p>åŒ¹é…<code>string</code> <strong>å¼€å¤´</strong>,æˆåŠŸè¿”å›<code>Match object</code>, å¤±è´¥è¿”å›None,åªåŒ¹é…ä¸€ä¸ªã€‚</p>
<h2 id="search">search</h2>
<p>åœ¨<code>string</code>ä¸­è¿›è¡Œæœç´¢,æˆåŠŸè¿”å›<code>Match object</code>, å¤±è´¥è¿”å›None, åªåŒ¹é…ä¸€ä¸ªã€‚</p>
<h2 id="findall">findall</h2>
<p>åœ¨<code>string</code>ä¸­æŸ¥æ‰¾æ‰€æœ‰åŒ¹é…æˆåŠŸçš„ç»„, å³ç”¨æ‹¬å·æ‹¬èµ·æ¥çš„éƒ¨åˆ†ã€‚è¿”å›listå¯¹è±¡ï¼Œæ¯ä¸ª<code>list item</code>æ˜¯ç”±æ¯ä¸ªåŒ¹é…çš„æ‰€æœ‰ç»„ç»„æˆçš„listã€‚</p>
<h2 id="finditer">finditer</h2>
<p>åœ¨<code>string</code>ä¸­æŸ¥æ‰¾æ‰€æœ‰åŒ¹é…æˆåŠŸçš„å­—ç¬¦ä¸², è¿”å›iterator,æ¯ä¸ªitemæ˜¯ä¸€ä¸ªMatch objectã€‚</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[IRR]]></title>
        <id>https://www.cyanzoy.top/post/PZwpK-fkr</id>
        <link href="https://www.cyanzoy.top/post/PZwpK-fkr">
        </link>
        <updated>2019-10-25T01:33:05.000Z</updated>
        <content type="html"><![CDATA[<!-- more -->
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Linuxæ€§èƒ½æµ‹è¯•]]></title>
        <id>https://www.cyanzoy.top/post/YQMzxqNFJ</id>
        <link href="https://www.cyanzoy.top/post/YQMzxqNFJ">
        </link>
        <updated>2019-10-15T06:32:01.000Z</updated>
        <summary type="html"><![CDATA[<p>åŸæ–‡é“¾æ¥ https://blog.ilemonrain.com/linux/LemonBench.html</p>
]]></summary>
        <content type="html"><![CDATA[<p>åŸæ–‡é“¾æ¥ https://blog.ilemonrain.com/linux/LemonBench.html</p>
<!-- more -->
<h1 id="ä¸€-lemonbench-ç®€å•ä»‹ç»">ä¸€ã€LemonBench ç®€å•ä»‹ç»</h1>
<p>LemonBenchç›®å‰æ¶µç›–äº†å¦‚ä¸‹æµ‹è¯•ï¼š</p>
<p>æœåŠ¡å™¨åŸºç¡€ä¿¡æ¯ (CPUä¿¡æ¯/å†…å­˜ä¿¡æ¯/Swapä¿¡æ¯/ç£ç›˜ç©ºé—´ä¿¡æ¯ç­‰)<br>
Speedtestç½‘é€Ÿæµ‹è¯• (æœ¬åœ°åˆ°æœ€è¿‘æºåŠå›½å†…å„åœ°åŸŸä¸åŒçº¿è·¯çš„ç½‘é€Ÿ)<br>
ç£ç›˜æµ‹è¯• (4Kå—/1Må— ç›´æ¥å†™å…¥æµ‹è¯•)<br>
è·¯ç”±è¿½è¸ªæµ‹è¯• (è¿½è¸ªåˆ°å›½å†…å’Œæµ·å¤–ä¸åŒçº¿è·¯çš„è·¯ç”±ä¿¡æ¯)<br>
Spooferæµ‹è¯• (è·å–è¯¦ç»†ç½‘ç»œä¿¡æ¯ï¼Œå¿«é€Ÿåˆ¤æ–­æœåŠ¡å™¨æ¥å…¥çº¿è·¯)<br>
LemonBenchä½¿ç”¨èµ·æ¥éå¸¸ç®€å•ï¼Œåªéœ€è¦å¤åˆ¶ç²˜è´´å†æ¥ä¸ªå›è½¦å°±å¯ä»¥è½»æ¾å¯åŠ¨æµ‹è¯•ã€‚</p>
<h1 id="äºŒ-lemonbench-ä½¿ç”¨æ–¹æ³•">äºŒã€LemonBench ä½¿ç”¨æ–¹æ³•</h1>
<h2 id="1-å¿«é€Ÿæµ‹è¯•">1ã€å¿«é€Ÿæµ‹è¯•</h2>
<p>å¦‚æœä½ çš„æœåŠ¡å™¨ä¸Šå®‰è£…æœ‰ <code>curl</code> å·¥å…·ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ‰§è¡Œè„šæœ¬ï¼š</p>
<pre><code class="language-sh">curl -fsSL https://ilemonrain.com/download/shell/LemonBench.sh | bash -s fast
</code></pre>
<p>å¦‚æœä½ çš„æœåŠ¡å™¨ä¸Šå®‰è£…æœ‰ <code>wget</code> å·¥å…·ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ‰§è¡Œè„šæœ¬ï¼š</p>
<pre><code class="language-sh">wget -qO- https://ilemonrain.com/download/shell/LemonBench.sh | bash -s fast
</code></pre>
<h2 id="2-å®Œæ•´æµ‹è¯•">2ã€å®Œæ•´æµ‹è¯•</h2>
<p>å¦‚æœä½ çš„æœåŠ¡å™¨ä¸Šå®‰è£…æœ‰ <code>curl</code> å·¥å…·ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ‰§è¡Œè„šæœ¬ï¼š</p>
<pre><code class="language-shell">curl -fsSL https://ilemonrain.com/download/shell/LemonBench.sh | bash -s full
</code></pre>
<p>å¦‚æœä½ çš„æœåŠ¡å™¨ä¸Šå®‰è£…æœ‰ <code>wget</code> å·¥å…·ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ‰§è¡Œè„šæœ¬ï¼š</p>
<pre><code class="language-shell">wget -qO- https://ilemonrain.com/download/shell/LemonBench.sh | bash -s full
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[linux-vim]]></title>
        <id>https://www.cyanzoy.top/post/XQroA40u4</id>
        <link href="https://www.cyanzoy.top/post/XQroA40u4">
        </link>
        <updated>2019-10-14T09:53:18.000Z</updated>
        <content type="html"><![CDATA[<h1 id="vimä¸­çš„æœç´¢">vimä¸­çš„æœç´¢</h1>
<p>æœç´¢æ–¹å¼ï¼š <code>/word</code><br>
ä¸‹ä¸€ä¸ªåŒ¹é… <code>n</code> ä¸Šä¸€ä¸ªåŒ¹é… <code>N</code><br>
ç¬¬ä¸€ä¸ªåŒ¹é…å¤„: <code>ggn</code><br>
æœ€åä¸€å¤„ <code>GN</code></p>
<h2 id="è‡ªå®šä¹‰æœç´¢">è‡ªå®šä¹‰æœç´¢</h2>
<ol>
<li>é€šè¿‡è®¾ç½® <code>hlsearch</code>æ¥é«˜äº®æœç´¢ç»“æœ<pre><code class="language-shell">:set hlsearch
</code></pre>
</li>
<li>ä½¿æœç´¢ä¸åŒºåˆ†å¤§å°å†™<pre><code class="language-shell"> :set ignorecase
</code></pre>
</li>
<li>æ™ºèƒ½å¤§å°å†™æœç´¢<pre><code class="language-shell"> :set ignorecase
 :set smartcase
</code></pre>
</li>
<li>é€’è¿›æœç´¢<pre><code class="language-shell"> :set incsearch
</code></pre>
</li>
<li>ç¦æ­¢ç¯å½¢æœç´¢<pre><code class="language-shell"> :set nowrapscan
</code></pre>
</li>
<li>å†æ¬¡å¼€å¯ç¯å½¢æœç´¢<pre><code class="language-shell"> :set wrapscan
</code></pre>
</li>
</ol>
<ul>
<li>å¦‚æœä½ æƒ³è¦æœç´¢ä¸€ä¸ªæ–‡ä»¶ä¸­çš„ä¸€ä¸ªå•è¯ï¼Œä½†æ˜¯åˆä¸æƒ³è¾“å…¥å®ƒï¼Œä½ åªéœ€è¦å°†ä½ çš„å…‰æ ‡ç§»åˆ°è¿™ä¸ªå•è¯ä¸‹ç„¶åæŒ‰ <code>*</code>(æˆ–è€… <code>shift + 8</code>)ã€‚å¦‚æœä½ æƒ³è¦å¯åŠ¨ä¸€æ¬¡éƒ¨åˆ†æœç´¢(ä¾‹å¦‚:åŒæ—¶æœç´¢ <strong>in</strong> å’Œ <strong>terminal</strong>)ï¼Œé‚£ä½ éœ€è¦å°†å…‰æ ‡ç§»åˆ°åˆ°å•è¯ä¸‹ï¼Œç„¶åé€šè¿‡åœ¨é”®ç›˜ä¸ŠæŒ‰ <code>g*</code> (æŒ‰ä¸€æ¬¡ <code>g</code> ç„¶åä¸æ–­æŒ‰ <code>*</code> )ã€‚<br>
<strong>å¦å¤–</strong>:å¦‚æœä½ æƒ³è¦é€†å‘æœç´¢ï¼ŒæŒ‰ <code>#</code> æˆ–è€… <code>g#</code> ã€‚</li>
<li>æœ€åï¼Œå‡è®¾ä½ æƒ³è¦å¯¹æ–‡ä»¶ä¸­å·²ç»å­˜åœ¨çš„å•è¯åšä¸€ç‚¹å°å°çš„ä¿®æ”¹ï¼Œç„¶åå¯¹ä¿®æ”¹åçš„å•è¯æ‰§è¡Œæœç´¢æ“ä½œ,ä¸€ç§æ–¹æ³•æ˜¯è¾“å…¥ <code>/</code> ä¸è¦æœç´¢çš„å•è¯ã€‚ä½†æ˜¯å¦‚æœè¿™ä¸ªå•è¯åˆé•¿åˆå¤æ‚ï¼Œé‚£ä¹ˆå¯èƒ½éœ€è¦ä¸€ç‚¹æ—¶é—´æ¥è¾“å…¥å®ƒã€‚<br>
ä¸€ä¸ªæ–¹æ³•æ˜¯å°†å…‰æ ‡ç§»åˆ°ä½ æƒ³è¦ç•¥å¾®ä¿®æ”¹çš„å•è¯ä¸‹ï¼ŒæŒ‰ <code>/</code> ä¹‹åå†æŒ‰ <code>Ctrl + r</code> æœ€åæŒ‰ <code>Ctrl + w</code>ã€‚è¿™ä¸ªåœ¨å…‰æ ‡ä¸‹çš„å•è¯ä¸ä»…ä»…ä¼šè¢«æ‹·è´ï¼Œä¹Ÿä¼šè¢«å¤åˆ¶åˆ° <code>/</code> åï¼Œå…è®¸ä½ å¯¹å®ƒè¿›è¡Œä¿®æ”¹å¹¶ä¸”ç»§ç»­è¿›è¡Œæœç´¢æ“ä½œã€‚</li>
</ul>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[uwsgiå¯åŠ¨djangoæœåŠ¡+è™šæ‹Ÿç¯å¢ƒ]]></title>
        <id>https://www.cyanzoy.top/post/_7T3uDhTS</id>
        <link href="https://www.cyanzoy.top/post/_7T3uDhTS">
        </link>
        <updated>2019-10-08T07:25:14.000Z</updated>
        <summary type="html"><![CDATA[<p>è„šæœ¬åˆ—è¡¨<br>
å¯åŠ¨djangoæœåŠ¡ç”¨çš„Uwsgiçš„iniå¯åŠ¨é…ç½®æ–‡ä»¶,å¯åŠ¨è„šæœ¬,è‡ªå®šä¹‰serviceè„šæœ¬</p>
]]></summary>
        <content type="html"><![CDATA[<p>è„šæœ¬åˆ—è¡¨<br>
å¯åŠ¨djangoæœåŠ¡ç”¨çš„Uwsgiçš„iniå¯åŠ¨é…ç½®æ–‡ä»¶,å¯åŠ¨è„šæœ¬,è‡ªå®šä¹‰serviceè„šæœ¬</p>
<!-- more -->
<h1 id="uwsgiini">uwsgi.ini</h1>
<pre><code class="language-ini"># uwsgi é…ç½®æ–‡ä»¶
[uwsgi]
#ç«¯å£
socket = 127.0.0.1:8000
# djangoé¡¹ç›®ç»å¯¹è·¯å¾„
chdir = /mnt/project/Blog/
# æ¨¡å—è·¯å¾„ï¼ˆé¡¹ç›®åç§°.wsgiï¼‰å¯ä»¥ç†è§£ä¸ºwsgi.pyçš„ä½ç½®
module = Blog.wsgi
# å…è®¸ä¸»è¿›ç¨‹
master = true
#æœ€å¤šè¿›ç¨‹æ•°
processes  = 4
# é€€å‡ºæ—¶å€™å›æ”¶pidæ–‡ä»¶
vacuum = true
#æ—¥å¿—å¤§å°é…ç½®500M
log-maxsize = 50000000
#è®°å½•æ—¥å¿—é…ç½®
logto = /mnt/project/logs/Blog8000.log
pidfile = /mnt/project/logs/Blog8000.pid
daemonize = /mnt/project/logs/Blog/Blog.log
wsgi-file = /mnt/project/Blog/Blog/wsgi.py
virtualenv = /home/env/Blog_env
enable-threads = true
workers = 2
reload-mercy = 10
max-requests = 1000

#[uwsgi]
#socket = :8000
#master = true
#vhost = true
#gid = nginx
#uid = nginx
#no-stie = true
#enable-threads = true
#workers = 2
#reload-mercy = 10
#vacuum = true
#max-requests = 1000
#limit-as = 512
#buffer-sizi = 30000
#pidfile = /var/run/uwsgi8000diary.pid
#daemonize = /home/centos/project/logs/diary/uwsgi.log
#wsgi-file = /home/centos/project/diary/diary/wsgi.py
#chdir = /home/centos/project/diary
#module=diary.wsgi:application
#virtualenv = /usr/local/python3.7
#vacuum = True
</code></pre>
<h1 id="å¯åŠ¨è„šæœ¬-etcinitd">å¯åŠ¨è„šæœ¬ /etc/init.d/</h1>
<pre><code class="language-bash">#! /bin/sh
# chkconfig: 2345 55 25
# Description: Startup script for uwsgi webserver on Debian. Place in /etc/init.d and
# run 'update-rc.d -f uwsgi defaults', or use the appropriate command on your
# distro. For CentOS/Redhat run: 'chkconfig --add uwsgi'

### BEGIN INIT INFO
# Provides:          uwsgi
# Required-Start:    $all
# Required-Stop:     $all
# Default-Start:     2 3 4 5
# Default-Stop:      0 1 6
# Short-Description: starts the uwsgi web server
# Description:       starts uwsgi using start-stop-daemon
### END INIT INFO

# Author:   licess
# website:  http://lnmp.org

PATH=/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/usr/local/python3.7/bin
DESC=&quot;uwsgi daemon&quot;
NAME=uwsgi8000diary
DAEMON=/usr/bin/uwsgi
CONFIGFILE=/home/centos/project/confini/$NAME.ini
PIDFILE=/var/run/$NAME.pid
SCRIPTNAME=/etc/init.d/$NAME

set -e
[ -x &quot;$DAEMON&quot; ] || exit 0

do_start() {
    $DAEMON --ini $CONFIGFILE || echo -n &quot;uwsgi already running&quot;
}

do_stop() {
    $DAEMON --stop $PIDFILE || echo -n &quot;uwsgi not running&quot;
    rm -f $PIDFILE
    echo &quot;$DAEMON STOPED.&quot;
}

do_reload() {
    $DAEMON --reload $PIDFILE || echo -n &quot;uwsgi can't reload&quot;
}

do_status() {
    ps aux|grep $DAEMON
}

case &quot;$1&quot; in
 status)
    echo -en &quot;Status $NAME: \n&quot;
    do_status
 ;;
 start)
    echo -en &quot;Starting $NAME: \n&quot;
    do_start
 ;;
 stop)
    echo -en &quot;Stopping $NAME: \n&quot;
    do_stop
 ;;
 reload|graceful)
    echo -en &quot;Reloading $NAME: \n&quot;
    do_reload
 ;;
 *)
    echo &quot;Usage: $SCRIPTNAME {start|stop|reload}&quot; &gt;&amp;2
    exit 3
 ;;
esac

exit 0

</code></pre>
<h1 id="service-è„šæœ¬-usrlibsystemdsystem">service è„šæœ¬ /usr/lib/systemd/system/</h1>
<pre><code class="language-ini">[Unit]
Documentation=man:systemd-sysv-generator(8)
SourcePath=/etc/rc.d/init.d/uwsgi9500_meetbuy
Description=LSB: starts the uwsgi web server
Before=runlevel2.target
Before=runlevel3.target
Before=runlevel4.target
Before=runlevel5.target
Before=shutdown.target
Before=agentwatch.service
After=all.target
After=network-online.target
Conflicts=shutdown.target

[Service]
Type=forking
Restart=no
TimeoutSec=5min
IgnoreSIGPIPE=no
KillMode=process
GuessMainPID=no
RemainAfterExit=yes
ExecStart=/etc/init.d/uwsgi9500_meetbuy start
ExecStop=/etc/init.d/uwsgi9500_meetbuy stop
ExecReload=/etc/init.d/uwsgi9500_meetbuy reload
</code></pre>
<h1 id="nginxä¸­çš„é…ç½®">Nginxä¸­çš„é…ç½®</h1>
<pre><code class="language-nginx">    server {
        listen       80;
        server_name  bus.cyanzoy.top;

        location / {
           include /usr/local/nginx/conf/uwsgi_params;
           uwsgi_pass 127.0.0.1:8000;

        }
        location /static {
            alias   /mnt/project/Blog/static/;
        }
    }
</code></pre>
<h1 id="æœ€ç»ˆè„šæœ¬">æœ€ç»ˆè„šæœ¬</h1>
<pre><code class="language-sh">#! /bin/sh

# æ‰“å¼€é¡¹ç›®åœ°å€
cd /mnt/project/Blog
# æ¸…ç©ºå¯åŠ¨æ—¥å¿—
echo &quot;&quot; &gt; /mnt/project/logs/Blog/Blog.log
# æ›´æ–°é¡¹ç›®
git pull origin master
# é‡å¯uwsgi
systemctl stop Blog
systemctl start Blog
# æ‰“å¼€æ—¥å¿—
tail -fn 20 /mnt/project/logs/Blog/Blog.log

</code></pre>
]]></content>
    </entry>
</feed>